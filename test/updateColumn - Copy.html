<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<!-- Common links -->
<!----><link rel="icon" type="image/png" href="/include/icon.png" />
<!----><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<!----><script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<!----><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<!----><script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.19.min.js"></script>
<!----><link href="../css/all.css" rel="stylesheet" />
<!----><script type="text/javascript" src="../js/all.js?1111"></script>
<!---------------------->
</head>
<body>

<script>
Parse.initialize("sdPsOfCJu21F7DIrFF08tDwuVtfZZbx1sLwMbMDB", "11wLPl0BPrkmtTlba00jZfvPtxKR9TNCxoLp3Rrb");


updateColumn ("Event_Info","effect_target",strToArray);

function updateColumn (className,columnName,func){
	qurClass(className).then(function(r){
		each(r,function(rr,i){
			r[i].set(columnName,func(rr.get(columnName)));
			console.log (r[i]);
		});
			console.log (r);

		if (confirm ("save?") )Parse.Object.saveAll(r).then(function (r){
			console.log (r);
			
		});
	},Log);
}
function strToArray (a){
	var str = a[0];
	console.log (str);
	var arr = str.split (",");
	each(arr,function(a,i){
		arr[i] = parseInt(a);
	})
	return arr ;
}


/*qurClass("Event_Info").then (function(r){
	each (r,function (a){console.log (a.get("effect_target")[0])})
	})*/


/** Did  **/
//renameClass("Event_List","Event_Info");



</script>

</body>
</html>
